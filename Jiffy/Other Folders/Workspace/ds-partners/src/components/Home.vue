<template>
  <v-container>
    <v-layout text-center wrap align-center fill-height justify-center>
      <v-flex xs12 sm9 md9 mb-4>
        <v-row align="center" justify="center">
          <v-img :src="require('../assets/mainbg.png')" lazy-src="https://picsum.photos/id/11/100/60" aspect-ratio="1" class="grey lighten-2" max-width="100%" max-height="300">
            <template v-slot:placeholder>
              <v-row class="fill-height ma-0" align="center" justify="center">
                <v-progress-circular indeterminate color="grey lighten-5"></v-progress-circular>
              </v-row>
            </template>
            <v-layout column wrap>
              <h1 class="white--text mt-5">Discover Palawan with Us</h1>
              <h3 class="white--text">Booking is easy we made it even simplier</h3>
              <h4 class="white--text mt-12">We are TripAdvisor's No.1 Tourist Service Provider</h4>
              <h3 class="white--text mt-12">Book Now</h3>
              <v-flex xs4 sm4 md4>
                <v-btn to="/transfers" color="blue" class="white--text" small>Transfers</v-btn>
                <v-btn to="/tours" color="red" class="white--text" small>Tours</v-btn>
              </v-flex>
            </v-layout>
          </v-img>
        </v-row>
      </v-flex>
      <v-flex xs12 sm9>
        <h3>Book with Confidence</h3>
        <div class="reviews">
          <v-flex xs12 sm12 md12 class="review-card">
            <div data-v-8dc7cce2="" id="TA_selfserveprop794" class="TA_selfserveprop ">
              <iframe style="height:0;width:0;display:none;" src="https://p.travelsmarter.net/api/usersync/sync.html?api_key=TxLExUPOSpaM-4SJwXvYmQ&amp;publisher_browser_id=59a67867064385bddd95cc0cbbbd78f3f224547b&amp;cb=1566206213013"></iframe>
              <div id="CDSWIDSSP" class="widSSP widSSPnarrow" style="width: 240px;">
                <div class="widSSPData" style="border: 1px solid #00a680;">
                  <div class="widSSPBranding">
                    <dl>
                      <dt>
                        <a target="_blank" href="https://www.tripadvisor.com.ph/"><img src="https://www.tripadvisor.com.ph/img/cdsi/img2/branding/150_logo-11900-2.png" alt="TripAdvisor"></a>
                      </dt>
                      <dt class="widSSPTagline">Know better. Book better. Go better.</dt>
                    </dl>
                  </div>
                  <!--/ cdsBranding-->
                  <div class="widSSPComponent">
                    <div class="widSSPSummary">
                      <dl>
                        <a target="_blank" href="https://www.tripadvisor.com.ph/Attraction_Review-g294257-d14210359-Reviews-Diskubre_Palawan-Puerto_Princesa_Palawan_Island_Palawan_Province_Mimaropa.html" onclick="ta.cds.handleTALink(11900,this);return true;" rel="nofollow">
                          <dt class="widSSPH18">Diskubre Palawan</dt>
                        </a>
                      </dl>
                    </div>
                    <!--/ cdsSummary-->
                  </div>
                  <!--/ cdsComponent-->
                  <div class="widSSPComponent widSSPOptional">
                    <div class="widSSPTrvlRtng">
                      <dl>
                        <dt class="widSSPH11">TripAdvisor Traveler Rating</dt>
                        <dd>
                          <div class="widSSPOverall"> <span class="ui_bubble_rating bubble_45"></span>
                            <div>Based on <b>51</b> traveler reviews</div>
                          </div>
                          <!--/ overall -->
                        </dd>
                      </dl>
                    </div>
                  </div>
                  <!--/ cdsComponent -->
                  <div class="widSSPWrap widSSPOptional">
                    <div class="widSSPInformation">
                      <div class="widSSPWrap">
                        <div class="widSSPPopIdx widSSPSingle"> <b>TripAdvisor Ranking</b> <span class="widSSPPopIdxData"> <span class="widSSPPopIdxData widSSPPopIdxNumbers"> <sup>#</sup>1 of 13 </span> Tours in Palawan</span>
                        </div>
                        <!--/ popIdx-->
                      </div>
                      <!--/ cdsWrap-->
                    </div>
                    <!--/ cdsInformation-->
                  </div>
                  <!--/ cdsWrap-->
                  <div class="widSSPAll">
                    <ul class="widSSPReadReview">
                      <li><a href="https://www.tripadvisor.com.ph/Attraction_Review-g294257-d14210359-Reviews-Diskubre_Palawan-Puerto_Princesa_Palawan_Island_Palawan_Province_Mimaropa.html" id="allreviews" onclick="ta.cds.handleTALink(11900,this);window.open(this.href, 'newTAWindow', 'toolbar=1,resizable=1,menubar=1,location=1,status=1,scrollbars=1,width=800,height=600'); return false" rel="nofollow">Read reviews</a></li>
                    </ul>
                  </div>
                  <!--/ cdsAll-->
                  <div class="widSSPLegal">© 2019 TripAdvisor LLC</div>
                  <!--/ cdsLegal-->
                </div>
                <!--/ cdsData-->
              </div>
              <!--/ CDSPOP.cdsBx-->
            </div>
          </v-flex>
          <v-flex xs12 sm6 md6 class="review-card">
            <div data-v-8dc7cce2="" id="TA_selfserveprop59" class="TA_selfserveprop">
              <iframe style="height:0;width:0;display:none;" src="https://p.travelsmarter.net/api/usersync/sync.html?api_key=TxLExUPOSpaM-4SJwXvYmQ&amp;publisher_browser_id=59a67867064385bddd95cc0cbbbd78f3f224547b&amp;cb=1566206281602"></iframe>
              <div id="CDSWIDSSP" class="widSSP widSSPnarrow" style="">
                <div class="widSSPData" style="border: 1px solid #00a680;">
                  <div class="widSSPBranding">
                    <dl>
                      <dt>
                        <a target="_blank" href="https://www.tripadvisor.com.ph/"><img src="https://www.tripadvisor.com.ph/img/cdsi/img2/branding/150_logo-11900-2.png" alt="TripAdvisor"></a>
                      </dt>
                      <dt class="widSSPTagline">Know better. Book better. Go better.</dt>
                    </dl>
                  </div>
                  <!--/ cdsBranding-->
                  <div class="widSSPComponent">
                    <div class="widSSPSummary">
                      <dl>
                        <a target="_blank" href="https://www.tripadvisor.com.ph/Attraction_Review-g294257-d12544079-Reviews-Palawan_Van_Transport-Puerto_Princesa_Palawan_Island_Palawan_Province_Mimaropa.html" onclick="ta.cds.handleTALink(11900,this);return true;" rel="nofollow">
                          <dt class="widSSPH18">Palawan Van Transport</dt>
                        </a>
                      </dl>
                    </div>
                    <!--/ cdsSummary-->
                  </div>
                  <!--/ cdsComponent-->
                  <div class="widSSPComponent widSSPOptional">
                    <div class="widSSPTrvlRtng">
                      <dl>
                        <dt class="widSSPH11">TripAdvisor Traveler Rating</dt>
                        <dd>
                          <div class="widSSPOverall"> <span class="ui_bubble_rating bubble_45"></span>
                            <div>Based on <b>44</b> traveler reviews</div>
                          </div>
                          <!--/ overall -->
                        </dd>
                      </dl>
                    </div>
                  </div>
                  <!--/ cdsComponent -->
                  <div class="widSSPWrap widSSPOptional">
                    <div class="widSSPInformation">
                      <div class="widSSPWrap">
                        <div class="widSSPPopIdx widSSPSingle"> <b>TripAdvisor Ranking</b> <span class="widSSPPopIdxData"> <span class="widSSPPopIdxData widSSPPopIdxNumbers"> <sup>#</sup>1 of 16 </span> Transportation Palawan</span>
                        </div>
                        <!--/ popIdx-->
                      </div>
                      <!--/ cdsWrap-->
                    </div>
                    <!--/ cdsInformation-->
                  </div>
                  <!--/ cdsWrap-->
                  <div class="widSSPAll">
                    <ul class="widSSPReadReview">
                      <li><a href="https://www.tripadvisor.com.ph/Attraction_Review-g294257-d12544079-Reviews-Palawan_Van_Transport-Puerto_Princesa_Palawan_Island_Palawan_Province_Mimaropa.html" id="allreviews" onclick="ta.cds.handleTALink(11900,this);window.open(this.href, 'newTAWindow', 'toolbar=1,resizable=1,menubar=1,location=1,status=1,scrollbars=1,width=800,height=600'); return false" rel="nofollow">Read reviews</a></li>
                    </ul>
                  </div>
                  <!--/ cdsAll-->
                  <div class="widSSPLegal">© 2019 TripAdvisor LLC</div>
                  <!--/ cdsLegal-->
                </div>
                <!--/ cdsData-->
              </div>
              <!--/ CDSPOP.cdsBx-->
            </div>
          </v-flex>
        </div>
        <v-list two-line>
          <v-layout text-left>
            <v-list-item>
              <v-list-item-avatar>
                <v-img src="https://scontent.fmnl13-1.fna.fbcdn.net/v/t1.0-1/p160x160/40006414_10214939258827932_1009088766465277952_n.jpg?_nc_cat=104&_nc_eui2=AeF6Eko6TDDlSuDs29xQKlZe7WQZdoRR3nw4yAtpdaRA9N4FAdjwxe7xB_oJzntZEsGxQiIazzvZzIOz-xi_tQ7iY71zRORnOvfV3gYV_gwYx0_VmOwxTy5Vw2tVgyBDYPw&_nc_oc=AQmQGhLu9e9lC_Hdwtg35uAIscq05qTxdF3ljr245dpzxEvmVGL05Bil3v1CTEONG-I&_nc_ht=scontent.fmnl13-1.fna&oh=bb61fc2db3d6d8d60a6c0db617607425&oe=5E1284E6"></v-img>
              </v-list-item-avatar>
              <v-list-item-content>
                <v-list-item-title text-left>Gilbert</v-list-item-title>
                <v-list-item-subtitle left>Manager</v-list-item-subtitle>
              </v-list-item-content>
            </v-list-item>
          </v-layout>
        </v-list>
        <div class="toursection ast">
          <div class="rg-img rg-img-bg bg-img-ast">
          </div>
          <article class="article">
            <p style="margin: 10px 0; font-size:24px;">Our Bestsellers</p>
            <p style="margin: 10px 0; white-space: normal;">We have services from transportation to tours & activities.
            </p>
          </article>
        </div>
        <v-layout text-start justify-start align-start>
          <div class="reviews">
            <TransferResult v-for="(i, index) in result" class="review-card" style="white-space:initial;" v-bind:data="i" :to="i.url" v-bind:pax=pax :key="index"></TransferResult>
          </div>
        </v-layout>
      </v-flex>
    </v-layout>
  </v-container>
</template>

<script>
function removeStyle() {
  var d = document.getElementsByClassName('widSSPnarrow')
  for (var i = 0; i < d.length; i++) {
    d[i].style.cssText = null;
  }
}

import TransferResult from '../components/TransferResult'
import {  mapGetters } from 'vuex'
export default {
  name: 'Home',
  data() {
    return {
      pax: 1
    }
  },
  components: {
    TransferResult
  },
  computed: {
    ...mapGetters(['getTransResult', 'getTourResult']),
    result: function() {
      var trans_data = this._.cloneDeep(this.getTransResult)

      var tour_data = this._.cloneDeep(this.getTourResult)
      var data = []
      trans_data.forEach(a => {

        a.url = '/transportation/' + a.url
        if (a.bestseller)
          data.push(a)
      })
      tour_data.forEach(a => {

        a.url = '/tour/' + a.url
        if (a.bestseller)
          data.push(a)
      })
      return this._.shuffle(data)
    }
  },
  mounted() {
    setTimeout(function() {
      removeStyle()

    }, 2000)

  }

};
</script>

<style scoped>
.reviews {
  white-space: nowrap;
  overflow-x: scroll;
  overflow-y: hidden;
  display: block;
  margin-left: 20px;
  margin-right: 20px;
  min-height: 275px;
  -webkit-overflow-scrolling: touch
}

.review-card {
  max-width: 60%;
  margin: 10px;
  vertical-align: top;
  display: inline-block
}

@media screen and (min-width: 320px) and (max-width:768px) {
  .review-card {
    width: 80%!important;
    max-width: 80%
  }
  .desti {
    width: 100%;
  }
}

.pps {
  background: linear-gradient(to right, #BAD870 50%, transparent 100%);
}

.ast {
  background: linear-gradient(to right, #673ab7 50%, transparent 100%);
}

.sab {
  background: linear-gradient(to right, #00bcd4 50%, transparent 100%);
}

.eln {
  background: linear-gradient(to right, #6288DF 50%, transparent 100%)
}
</style>
